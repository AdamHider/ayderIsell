<div style="display: grid; grid-template-columns: 50% 50%">
    <div class="widget-block"> 
        <div id="DebtManager_dashboard_holder_tab" class="DebtManager_dashboard_holder panel" style="margin: 10px;"></div>
    </div>
    <div class="widget-block"> 
        <div  style="margin: 10px;">
            <button class="debitors_list_create">Список должников</button>
        </div>
    </div>
</div>
<script>
    $("#DebtManager_dashboard_holder_tab").load("DebtManager/views/?path=dashboard.html");
    $('button.debitors_list_create').click(function(){
        debitorsListGet();
    });    
    
    function debitorsListGet(){
        $('#DebtManager_dashboard_holder_tab .block_-1 .debt-row ').each(function(){
            var pcomp_id = $(this).attr('data-pcomp_id');
            debitorMessageRender(pcomp_id);
            return false;
        })
    }
    
    function debitorMessageRender(pcomp_id){
            $.post('DebtManager/messageRender', {type:'mail', pcomp_id: pcomp_id}, function (resp) {
                if (resp) {
                    console.log(pcomp_id);
                    return;
                }
            });
        
    }
</script>
