<script src="js/jquery.sortable.js"></script>
<script>
    App.price_list=App.page_plugins_stock_price_list_stock_price_list={
	init:function(){
	    this.restoreLeftHeaders();
	    $(function () {
		App.price_list.initDrag();
	    });
	},
	initDrag:function(){
	    $('.connected').sortable('destroy');
	    $('.connected').sortable({
		connectWith: '.connected'
	    }).one('sortupdate', function(e, ui) {
		App.price_list.sortUpdate();
	    });
	},
	sortUpdate:function(){
	    this.restoreLeftHeaders();
	    this.initDrag();
	    this.saveUsedItems();
	},
	restoreLeftHeaders:function(){
	    $(".available_items .h1,.available_items .h2,.available_items .page").remove();
	    $(".available_items").prepend( $("#price_list_templates li").clone().attr('draggable',true) );
	},
	saveUsedItems:function(){
	    $(".used_items li").each(function(){
		console.log(this);
	    });
	}
    };
    
</script>
<style>
    .connected li{
	list-style: none;
	border: 1px solid #CCC;
	background: #fff;
	margin: 5px;
	padding: 5px;
	height: 22px;
    }
    .connected {
	float: left;
	padding: 15px;
	min-height: 100px;
	background-color: rgba(0,0,0,0.2);
    }
    li.h1{
	background-color: #fc0;
	padding: 4px;
	font-size: 18px;
    }
    li.h2{
	background-color: #FF9;
	font-size: 14px;
    }
    li.page{
	background-color: #Fcf;	
    }
    li.sortable-placeholder {
	border: 1px dashed #000;
	background: none;
    }
    li.sortable-dragging{}
    .available_items img{
	display: none;
    }
    .used_items img{
	float:right;
    }
</style>
<div id="price_list_templates" style="display: none">
    <li class="h1">Большой заголовок <img src="img/edit-16.png"></li>
    <li class="h2">Средний заголовок <img src="img/edit-16.png"></li>
    <li class="page">Произвольный текст <img src="img/edit-16.png"></li>
</div>
<table>
    <tr>
	<td style="vertical-align: top;">
	    <ul class="connected available_items" style="width:200px">
		<li>Item 1</li>
		<li>Item 2</li>
		<li>Item 3</li>
		<li>Item 4</li>
		<li>Item 5</li>
		<li>Item 6</li>
	    </ul>
	</td>
	<td style="vertical-align: top;">
	    <ul class="connected used_items" style="width:400px">
		
	    </ul>
	</td>
    </tr>
</table>