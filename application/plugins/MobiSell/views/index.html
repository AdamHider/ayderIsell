<!DOCTYPE html>
<html>
    <head>
	<link rel="icon" type="image/png" href="/favicon.png" />
	<link rel="stylesheet" href="../js/Semantic-UI/semantic.min.css">
	<title>MobiSell beta</title>
    </head>
    <body>
	<div class="ui left demo vertical inverted sidebar labeled icon menu">

	    <a href="#view/documents.html" class="item">
		<i class="file outline icon"></i>
		Документы
	    </a>
	</div>
	<div class="ui basic icon top fixed menu">
	    <a id="toggle" class="item">
		<i class="sidebar icon"></i>
		Menu
	    </a>
	</div>
	<div id="main_container" class="pusher" style="margin-top: 42px;">
	    sdgfsdgf
	</div>
	
	<script type="text/javascript" src="../js/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="../js/Semantic-UI/semantic.min.js"></script>
	<script type="text/javascript" src="../js/markup.min.js"></script>
	<script type="text/javascript">
	    App = {
		init: function () {
		    App.sidebar.init();
		    App.holder.init();
		},
		sidebar:{
		    init:function(){
			$("#toggle").click(function(){
			    $(".ui.sidebar").sidebar('toggle');
			});
		    }
		},
		holder:{
		    init:function(){
			$(window).bind( 'hashchange', function(e) {
			    App.holder.load(location.hash.substring(1));
			});
			if( location.hash ){
			    App.holder.load(location.hash.substring(1));
			}
		    },
		    load:function(url){
			$("#main_container").load(url,function(){
			    console.log(arguments);
			});
		    }
		},
		tplcache:{},
		renderTpl:function( id, data, mode ){
		    if( !this.tplcache[id] || mode==='nocache' ){
			this.tplcache[id]=$('#'+id).html().replace('&gt;','>').replace(/<!--/g,'').replace(/-->/g,'');
		    }
		    $('#'+id).html( Mark.up(App.tplcache[id], data) );
		    $('#'+id).removeClass('covert');
		},
		json:function( text ){
		    try{
			return text===''?null:JSON.parse(text);
		    }
		    catch(e){
			console.log('isell-app-json-err: '+e+text);
			return null;
		    }
		},
	    };
	    $(App.init);
	</script>
    </body>
</html>